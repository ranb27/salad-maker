"use client";

import React, { useState } from "react";
import { usePathname } from "next/navigation";

import SidebarItem from "./SidebarItem";

export default function NavSidebar() {
  const pathname = usePathname();

  const [isSidebarOpen, setIsSidebarOpen] = useState(false);

  const toggleSidebar = () => {
    setIsSidebarOpen(!isSidebarOpen);
  };

  return (
    <>
      <button
        onClick={toggleSidebar}
        className="fixed top-1 left-2 z-20 active:scale-95 duration-300 p-2 md:hidden"
        aria-label="Toggle Sidebar"
      >
        <svg
          width="24"
          height="24"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            d="M4 6h16M4 12h16M4 18h16"
            stroke="oklch(var(--bc))"
            strokeWidth="2"
            strokeLinecap="round"
            strokeLinejoin="round"
          />
        </svg>
      </button>
      <aside
        id="default-sidebar"
        className={`fixed dura top-0 left-0 z-10 w-80 h-screen transition-transform ${
          isSidebarOpen ? "translate-x-0" : "-translate-x-full"
        } md:translate-x-0`}
        aria-label="Sidebar"
      >
        <div className="h-full px-3 py-4 overflow-y-auto bg-base-100 duration-500 text-base-content">
          <h1 className="text-3xl mb-16 mt-12 font-extrabold text-center">
            <p>
              <span className="text-base-content">SALADMAKER</span>{" "}
              <span className="text-warning">.</span>
            </p>
          </h1>
          <ul className="space-y-2 font-medium mx-6">
            <SidebarItem
              url="/pages/salad-maker"
              icon={
                <svg
                  width="26"
                  height="29"
                  viewBox="0 0 26 29"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                  opacity={pathname === "/pages/salad-maker" ? 1 : 0.5}
                >
                  <path
                    d="M0.833008 24.8333C0.833008 27.6967 7.31301 29 13.333 29C19.353 29 25.833 27.6967 25.833 24.8333C25.833 22.56 21.898 21.5333 19.063 21.09L20.9997 19.1667C22.5148 17.6516 23.5467 15.7213 23.9648 13.6198C24.3829 11.5184 24.1684 9.34009 23.3485 7.36051C22.5285 5.38092 21.14 3.68893 19.3584 2.49851C17.5769 1.30809 15.4823 0.672699 13.3397 0.672699C11.197 0.672699 9.10245 1.30809 7.3209 2.49851C5.53935 3.68893 4.15081 5.38092 3.33089 7.36051C2.51097 9.34009 2.29649 11.5184 2.71457 13.6198C3.13265 15.7213 4.16451 17.6516 5.67967 19.1667L7.60967 21.0967C4.76801 21.5333 0.833008 22.56 0.833008 24.8333ZM14.9997 7.33335C14.9997 7.17859 15.0428 7.02688 15.1241 6.89524C15.2055 6.76359 15.3219 6.6572 15.4603 6.58799C15.5988 6.51878 15.7537 6.48948 15.9078 6.50338C16.062 6.51728 16.2092 6.57382 16.333 6.66668C17.3649 7.44091 18.2218 8.42423 18.8476 9.55236C19.4735 10.6805 19.8541 11.928 19.9647 13.2133C20.0013 13.6082 19.8949 14.0031 19.6648 14.3261C19.4348 14.6491 19.0965 14.8788 18.7113 14.9733L16.6663 15.485V17.3333C16.6663 17.5544 16.5785 17.7663 16.4223 17.9226C16.266 18.0789 16.054 18.1667 15.833 18.1667C15.612 18.1667 15.4 18.0789 15.2438 17.9226C15.0875 17.7663 14.9997 17.5544 14.9997 17.3333V7.33335ZM7.49967 9.00001V7.33335C7.49967 7.11233 7.58747 6.90037 7.74375 6.74409C7.90003 6.58781 8.11199 6.50001 8.33301 6.50001C8.55402 6.50001 8.76598 6.58781 8.92226 6.74409C9.07854 6.90037 9.16634 7.11233 9.16634 7.33335V9.00001C9.16966 9.28742 9.24837 9.56892 9.39461 9.81636C9.54085 10.0638 9.7495 10.2685 9.99967 10.41V7.33335C9.99967 7.11233 10.0875 6.90037 10.2438 6.74409C10.4 6.58781 10.612 6.50001 10.833 6.50001C11.054 6.50001 11.266 6.58781 11.4223 6.74409C11.5785 6.90037 11.6663 7.11233 11.6663 7.33335V10.41C11.9165 10.2685 12.1252 10.0638 12.2714 9.81636C12.4176 9.56892 12.4964 9.28742 12.4997 9.00001V7.33335C12.4997 7.11233 12.5875 6.90037 12.7438 6.74409C12.9 6.58781 13.112 6.50001 13.333 6.50001C13.554 6.50001 13.766 6.58781 13.9223 6.74409C14.0785 6.90037 14.1663 7.11233 14.1663 7.33335V9.00001C14.1636 9.73686 13.9167 10.452 13.4644 11.0337C13.0121 11.6154 12.3798 12.0308 11.6663 12.215V17.3333C11.6663 17.5544 11.5785 17.7663 11.4223 17.9226C11.266 18.0789 11.054 18.1667 10.833 18.1667C10.612 18.1667 10.4 18.0789 10.2438 17.9226C10.0875 17.7663 9.99967 17.5544 9.99967 17.3333V12.215C9.28622 12.0308 8.65391 11.6154 8.20159 11.0337C7.74927 10.452 7.50244 9.73686 7.49967 9.00001ZM9.08967 22.5767L11.5647 25.0533C11.7968 25.2857 12.0725 25.47 12.3759 25.5957C12.6793 25.7214 13.0046 25.7861 13.333 25.7861C13.6614 25.7861 13.9867 25.7214 14.2901 25.5957C14.5935 25.47 14.8692 25.2857 15.1013 25.0533L17.5763 22.5767C22.1563 23.1067 24.1663 24.3133 24.1663 24.8333C24.1663 25.58 20.4813 27.3333 13.333 27.3333C6.18467 27.3333 2.49967 25.58 2.49967 24.8333C2.49967 24.3133 4.50968 23.1067 9.08967 22.5767Z"
                    fill={
                      pathname === "/pages/salad-maker"
                        ? "#fff"
                        : "oklch(var(--bc))"
                    }
                  />
                </svg>
              }
              label="Salad Maker"
            />
            <SidebarItem
              url="/pages/recipe"
              icon={
                <>
                  <svg
                    width="23"
                    height="28"
                    viewBox="0 0 23 28"
                    fill="none"
                    xmlns="http://www.w3.org/2000/svg"
                    opacity={pathname === "/pages/recipe" ? 1 : 0.5}
                  >
                    <path
                      fillRule="evenodd"
                      clipRule="evenodd"
                      d="M1.39486 0.989257C1.82002 0.573825 2.41469 0.302891 3.54011 0.155614C4.69887 0.0027788 6.23278 0 8.4336 0H14.5664C16.7673 0 18.3012 0.0027788 19.4599 0.155614C20.5853 0.302891 21.18 0.573825 21.6052 0.989257C22.0289 1.40608 22.3054 1.98963 22.4569 3.09143C22.6125 4.22657 22.6153 5.72991 22.6153 7.88488V18.7764H5.03372C3.77909 18.7764 2.92321 18.7751 2.1896 18.9682C1.5338 19.1405 0.925245 19.4211 0.384766 19.7907V7.88627C0.384766 5.72991 0.387544 4.22657 0.543158 3.09143C0.694603 1.98963 0.971095 1.40608 1.39486 0.989257ZM5.36857 5.25751C5.06687 5.25455 4.77632 5.37137 4.56065 5.58235C4.34498 5.79333 4.2218 6.08125 4.21814 6.38293C4.21814 7.00539 4.73222 7.50974 5.36718 7.50974H17.6329C17.9343 7.51234 18.2245 7.39535 18.4399 7.18441C18.6552 6.97347 18.7782 6.68576 18.7819 6.38432C18.7786 6.08264 18.6558 5.79458 18.4404 5.58334C18.225 5.3721 17.9345 5.25492 17.6329 5.25751H5.36857ZM4.21814 11.6404C4.21814 11.0194 4.73222 10.515 5.36718 10.515H13.0325C13.3342 10.5121 13.6248 10.6289 13.8404 10.8399C14.0561 11.0508 14.1793 11.3388 14.183 11.6404C14.1797 11.9424 14.0566 12.2306 13.8409 12.4419C13.6252 12.6532 13.3345 12.7702 13.0325 12.7673H5.36718C5.06572 12.7699 4.77553 12.6529 4.56016 12.4419C4.34479 12.231 4.2218 11.9419 4.21814 11.6404Z"
                      fill={
                        pathname === "/pages/recipe"
                          ? "#fff"
                          : "oklch(var(--bc))"
                      }
                    />
                    <path
                      d="M5.189 21.2405C3.68983 21.2405 3.16602 21.2503 2.7631 21.3559C2.22646 21.4946 1.73152 21.7615 1.32082 22.1337C0.910122 22.5059 0.59594 22.9723 0.405273 23.4928C0.427504 24.0235 0.465017 24.4917 0.521983 24.9086C0.673428 26.0104 0.949921 26.5939 1.37369 27.0107C1.79885 27.4262 2.39351 27.6971 3.51893 27.8444C4.6777 27.9972 6.2116 28 8.41242 28H14.5453C16.7461 28 18.28 27.9972 19.4388 27.8458C20.5642 27.6971 21.1588 27.4262 21.584 27.0107C21.8841 26.7148 22.112 26.3355 22.2718 25.7464H5.346C5.04455 25.749 4.75435 25.632 4.53899 25.4211C4.32362 25.2101 4.20063 24.9224 4.19696 24.621C4.19696 23.9985 4.71104 23.4942 5.346 23.4942H22.5524C22.5802 22.8467 22.5899 22.1048 22.5941 21.2405H5.189Z"
                      fill={
                        pathname === "/pages/recipe"
                          ? "#fff"
                          : "oklch(var(--bc))"
                      }
                    />
                  </svg>
                </>
              }
              label="Recipe"
            />
          </ul>
        </div>
        <footer className="text-center text-xs z-50 fixed bottom-4 w-full">
          <p className="">
            Developed by{" "}
            <a
              href="https://github.com/ranb27"
              target="_blank"
              className="font-bold text-warning hover:underline"
              rel="noreferrer"
            >
              ranb27
            </a>
          </p>
        </footer>
      </aside>
    </>
  );
}
